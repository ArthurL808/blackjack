(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],{18:function(e,t,n){e.exports={hideCard:"Cards_hideCard__2nmRA",cardBack:"Cards_cardBack__3l7e-"}},28:function(e,t,n){e.exports={dealerHand:"DealerHand_dealerHand__3GMcX"}},34:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(11),c=n.n(a),u=(n(34),n(3)),s=n(5),d=n(7),o=n(14),i=n.n(o),l="HIT_USER",j="LOAD_DECK",b="DEAL_HANDS",O="PLAYER_LOSS",p="PLAYER_BLACKJACK",f="HIT_DEALER",y="PLAYER_STAND",h="PLAYER_WIN",g="PLAYER_PUSH",C="PLACE_BET",v="START_BETTING",k="DOUBLE_DOWN",m=function(){var e=Object(d.a)(Object(s.a)().mark((function e(t,n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.remaining<=n)){e.next=3;break}return e.next=3,x(t);case 3:return e.next=5,i.a.get("http://deckofcardsapi.com/api/deck/".concat(t.deck_id,"/draw/?count=").concat(n)).then((function(e){return e.data})).catch((function(e){console.error(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){return i.a.get("https://deckofcardsapi.com/api/deck/".concat(e.deck_id,"/shuffle/")).then((function(e){return e.data})).catch((function(e){console.log(e),console.error(e)}))},E=function(e){return e({type:y,payload:!0})},_=function(e){return e({type:O,payload:!0,message:"Sorry you've lost $"})},R=function(e){return e({type:p,payload:!0,message:"Blackjack! you have won $"})},w=function(e){return e({type:h,payload:!0,message:"Congratulations you have won $"})},B=function(e){return e({type:g,payload:!0,message:"Nothing gained, Nothing loss you have pushed with the dealer."})},A=function(e){return e({type:v,payload:!0})},N=n(0),S=function(e){var t=Object.assign({},e),n=Object(u.b)();return t.roundResults.roundEnd?Object(N.jsxs)("div",{children:[t.roundResults.message,Object(N.jsx)("button",{onClick:function(){n(A)},children:"close"})]}):""},D=n(13),T=n(6),L=n(61),I=function(e){return e.deck},P=function(e){return e.roundResults},H=function(e){return e.bettingRound},$=function(e){return e.playerCurrency},Y=function(e){return e.playerStand},U=function(e){return e.playersCards},X=function(e){return e.dealersCards},J=Object(L.a)(U,(function(e){return Object(T.a)(e).sort((function(e,t){return"ACE"===e.value?1:"ACE"===t.value?-1:e.value-t.value})).reduce((function(e,t){return"ACE"===t.value&&e>10?e+1:"ACE"===t.value&&e<=10?e+11:isNaN(t.value)?e+10:e+parseInt(t.value)}),0)})),K=Object(L.a)(X,(function(e){return Object(T.a)(e).sort((function(e,t){return"ACE"===e.value?1:"ACE"===t.value?-1:e.value-t.value})).reduce((function(e,t){return"ACE"===t.value&&e>10?e+1:"ACE"===t.value&&e<=10?e+11:isNaN(t.value)?e+10:e+parseInt(t.value)}),0)})),M=function(e){var t=Object.assign({},e),n=Object(u.b)(),a=Object(r.useState)(0),c=Object(D.a)(a,2),o=c[0],i=c[1],l=Object(u.c)($);return Object(N.jsxs)("div",{children:["Bet Window",Object(N.jsxs)("h4",{children:["Player's wallet: $",l-o]}),Object(N.jsxs)("h5",{children:["Current Bet: $",o]}),Object(N.jsx)("button",{onClick:function(){o+50>l?alert("Not enought funds."):i(o+50)},children:"$50"}),Object(N.jsx)("button",{onClick:function(){o+100>l?alert("Not enought funds."):i(o+100)},children:"$100"}),Object(N.jsx)("button",{onClick:function(){o+250>l?alert("Not enought funds."):i(o+250)},children:"$250"}),Object(N.jsx)("button",{onClick:function(){o+500>l?alert("Not enought funds."):i(o+500)},children:"$500"}),Object(N.jsx)("button",{onClick:function(){return o<=0?alert("Please place a bet."):l-o<0?alert("You don't have the money to place that bet."):(n(function(e){return function(t){t({type:C,payload:e})}}(o)),i(0),void n((e=t.deck,function(){var t=Object(d.a)(Object(s.a)().mark((function t(n){var r,a;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e,2);case 2:return r=t.sent,t.next=5,m(e,2);case 5:a=t.sent,n({type:b,payload:{playersCards:r.cards,dealersCards:a.cards,remaining:a.remaining}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));var e},children:"Deal"}),Object(N.jsx)("button",{onClick:function(){i(0)},children:"Clear Bet"})]})},W=M,F=n(18),G=n.n(F),V=function(e){var t=Object.assign({},e);return t.hideCard?Object(N.jsx)("div",{className:G.a.cardBack,children:Object(N.jsx)("img",{className:G.a.hideCard,src:t.card.image,alt:"playing card"},t.code)}):Object(N.jsx)("img",{src:t.card.image,alt:"playing card"},t.code)},q=function(e){var t=Object.assign({},e),n=Object(u.b)();Object(r.useEffect)((function(){c(t.cards,t.total),a(t.total)}),[t.total,t.cards]);var a=function(e){e>21&&n(_)},c=function(e,t){if(2===e.length&&21===t)return n(R)};return Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:t.total}),t.cards.map((function(e){return Object(N.jsx)(V,{card:e},e.code)}))]})},z=n(28),Q=n.n(z),Z=function(e){var t=Object.assign({},e),n=Object(u.b)(),a=Object(r.useState)(!0),c=Object(D.a)(a,2),o=c[0],i=c[1];Object(r.useEffect)((function(){t.cards.length>2&&l(t.total),!0===t.playerStand&&(i(!1),j(t.total))}),[t.total,t.cards,t.playerStand]);var l=function(e){if(e>21)return n(w)},j=function(e){if(e>=17)return r=t.playerTotal,a=t.total,r===a?n(B):r>a?n(w):a>r&&a<=21?n(_):void 0;var r,a,c,u;n((c=t.deck,u=1,function(){var e=Object(d.a)(Object(s.a)().mark((function e(t){var n;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(c,u);case 2:n=e.sent,t({type:f,payload:{card:n.cards[0],remaining:n.remaining}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(N.jsxs)(N.Fragment,{children:[o?null:Object(N.jsx)("p",{children:t.total}),Object(N.jsx)("div",{className:Q.a.dealerHand,children:t.cards.map((function(e,t){return 1===t&&!0===o?Object(N.jsx)(V,{card:e,hideCard:o},e.code):Object(N.jsx)(V,{card:e},e.code)}))})]})},ee=Z,te=function(e){var t=Object.assign({},e),n=Object(u.b)(),r=Object(u.c)((function(e){return e.currentBet})),a=Object(u.c)((function(e){return e.playerCurrency}));return Object(N.jsx)(N.Fragment,{children:t.playersCards.length>2?null:Object(N.jsx)("button",{onClick:function(){var e;r>a?alert("Not enough funds for double down."):n((e=t.deckId,function(){var t=Object(d.a)(Object(s.a)().mark((function t(n){var r;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e,1);case 2:r=t.sent,n({type:k,payload:r.cards[0]});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Double Down"})})},ne=te,re=function(e){var t=Object.assign({},e),n=Object(u.b)();return Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{onClick:function(){var e,r;n((e=t.deck,r=1,function(){var t=Object(d.a)(Object(s.a)().mark((function t(n){var a;return Object(s.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e,r);case 2:a=t.sent,n({type:l,payload:{card:a.cards[0],remaining:a.remaining}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"HIT"}),Object(N.jsx)("button",{onClick:function(){n(E)},children:"STAND"}),Object(N.jsx)(ne,{deckId:t.deck,playersCards:t.playersCards})]})},ae=re,ce=function(e){var t=Object.assign({},e),n=Object(u.c)(U),r=Object(u.c)(X),a=Object(u.c)(J),c=Object(u.c)(K),s=Object(u.c)(Y);return Object(N.jsxs)("div",{children:[Object(N.jsxs)("p",{children:["Cards remaining: ",t.deck.remaining]}),Object(N.jsx)(ee,{deck:t.deck,total:c,cards:r,playerStand:s,playerTotal:a}),Object(N.jsx)(q,{cards:n,total:a}),t.roundEnd?null:Object(N.jsx)(ae,{roundEnd:t.roundEnd,playersCards:n,deck:t.deck})]})},ue=(n(57),function(){var e=Object(u.b)(),t=Object(u.c)(I),n=Object(u.c)(P),a=Object(u.c)(H);return Object(r.useEffect)((function(){e((function(e){i.a.get("http://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1").then((function(t){e({type:j,payload:t.data})})).catch((function(e){console.error(e)}))}))}),[e]),Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)("h3",{children:"Black Jack App"}),Object(N.jsx)(S,{roundResults:n}),a?Object(N.jsx)(W,{deck:t}):Object(N.jsx)(ce,{deck:t,roundEnd:n.roundEnd})]})}),se=n(15),de=n(2),oe={deck:{deck_id:"",remaining:0,shuffled:!1,success:!1},playersCards:[],dealersCards:[],playerCurrency:1e3,currentBet:0,playerStand:!1,bettingRound:!0,roundResults:{roundEnd:!1,message:""}},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(de.a)(Object(de.a)({},e),{},{deck:t.payload});case v:return Object(de.a)(Object(de.a)({},e),{},{playersCards:[],dealersCards:[],currentBet:0,playerStand:!1,bettingRound:t.payload,roundResults:{roundEnd:!1,message:""}});case C:return Object(de.a)(Object(de.a)({},e),{},{bettingRound:!1,playerCurrency:e.playerCurrency-t.payload,currentBet:t.payload});case b:return Object(de.a)(Object(de.a)({},e),{},{deck:Object(de.a)(Object(de.a)({},e.deck),{},{remaining:t.payload.remaining}),playersCards:t.payload.playersCards,dealersCards:t.payload.dealersCards});case l:return Object(de.a)(Object(de.a)({},e),{},{deck:Object(de.a)(Object(de.a)({},e.deck),{},{remaining:t.payload.remaining}),playersCards:[].concat(Object(T.a)(e.playersCards),[t.payload.card])});case k:return Object(de.a)(Object(de.a)({},e),{},{playersCards:[].concat(Object(T.a)(e.playersCards),[t.payload]),playerStand:!0,playerCurrency:e.playerCurrency-e.currentBet,currentBet:2*e.currentBet});case f:return Object(de.a)(Object(de.a)({},e),{},{deck:Object(de.a)(Object(de.a)({},e.deck),{},{remaining:t.payload.remaining}),dealersCards:[].concat(Object(T.a)(e.dealersCards),[t.payload.card])});case O:return Object(de.a)(Object(de.a)({},e),{},{roundResults:Object(de.a)(Object(de.a)({},e.roundResults),{},{roundEnd:t.payload,message:t.message+e.currentBet})});case p:return Object(de.a)(Object(de.a)({},e),{},{roundResults:Object(de.a)(Object(de.a)({},e.roundResults),{},{roundEnd:t.payload,message:t.message+1.5*e.currentBet}),playerCurrency:e.playerCurrency+(e.currentBet+1.5*e.currentBet)});case y:return Object(de.a)(Object(de.a)({},e),{},{playerStand:t.payload});case h:return Object(de.a)(Object(de.a)({},e),{},{roundResults:Object(de.a)(Object(de.a)({},e.roundResults),{},{roundEnd:t.payload,message:t.message+e.currentBet}),playerCurrency:e.playerCurrency+2*e.currentBet});case g:return Object(de.a)(Object(de.a)({},e),{},{roundResults:Object(de.a)(Object(de.a)({},e.roundResults),{},{roundEnd:t.payload,message:t.message}),playerCurrency:e.playerCurrency+e.currentBet});default:return e}},le=n(29),je=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):se.b)(Object(se.a)(le.a)),be=Object(se.c)(ie,je);c.a.render(Object(N.jsx)(u.a,{store:be,children:Object(N.jsx)(ue,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.3f667e6f.chunk.js.map