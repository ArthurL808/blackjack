(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],{19:function(e,t,n){e.exports={hideCard:"Cards_hideCard__2nmRA",cardBack:"Cards_cardBack__3l7e-"}},29:function(e,t,n){e.exports={dealerHand:"DealerHand_dealerHand__3GMcX"}},35:function(e,t,n){},5:function(e,t,n){e.exports={betWindow:"BetWindow_betWindow__2EiTz",betButton:"BetWindow_betButton__hL23M",betMenu:"BetWindow_betMenu__2ctAR",clearBet:"BetWindow_clearBet__1GN2p",placeBet:"BetWindow_placeBet__20A1d"}},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(12),c=n.n(r),s=(n(35),n(3)),u=n(6),o=n(8),d=n(15),i=n.n(d),l="HIT_USER",b="LOAD_DECK",j="DEAL_HANDS",O="PLAYER_LOSS",p="PLAYER_BLACKJACK",f="HIT_DEALER",y="PLAYER_STAND",h="PLAYER_WIN",g="PLAYER_PUSH",C="PLACE_BET",v="START_BETTING",m="DOUBLE_DOWN",k=function(){var e=Object(o.a)(Object(u.a)().mark((function e(t,n){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.remaining<=n)){e.next=3;break}return e.next=3,x(t);case 3:return e.next=5,i.a.get("http://deckofcardsapi.com/api/deck/".concat(t.deck_id,"/draw/?count=").concat(n)).then((function(e){return e.data})).catch((function(e){console.error(e)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){return i.a.get("https://deckofcardsapi.com/api/deck/".concat(e.deck_id,"/shuffle/")).then((function(e){return e.data})).catch((function(e){console.log(e),console.error(e)}))},_=function(e){return e({type:y,payload:!0})},E=function(e){return e({type:O,payload:!0,message:"Sorry you've lost $"})},B=function(e){return e({type:p,payload:!0,message:"Blackjack! you have won $"})},w=function(e){return e({type:h,payload:!0,message:"Congratulations you have won $"})},N=function(e){return e({type:g,payload:!0,message:"Nothing gained, Nothing loss you have pushed with the dealer."})},R=function(e){return e({type:v,payload:!0})},A=n(0),S=function(e){var t=Object.assign({},e),n=Object(s.b)();return t.roundResults.roundEnd?Object(A.jsxs)("div",{children:[t.roundResults.message,Object(A.jsx)("button",{onClick:function(){n(R)},children:"close"})]}):""},D=n(14),T=n(5),L=n.n(T),I=n(7),P=n(62),W=function(e){return e.deck},H=function(e){return e.roundResults},$=function(e){return e.bettingRound},M=function(e){return e.playerCurrency},Y=function(e){return e.playerStand},U=function(e){return e.playersCards},X=function(e){return e.dealersCards},F=Object(P.a)(U,(function(e){return Object(I.a)(e).sort((function(e,t){return"ACE"===e.value?1:"ACE"===t.value?-1:e.value-t.value})).reduce((function(e,t){return"ACE"===t.value&&e>10?e+1:"ACE"===t.value&&e<=10?e+11:isNaN(t.value)?e+10:e+parseInt(t.value)}),0)})),G=Object(P.a)(X,(function(e){return Object(I.a)(e).sort((function(e,t){return"ACE"===e.value?1:"ACE"===t.value?-1:e.value-t.value})).reduce((function(e,t){return"ACE"===t.value&&e>10?e+1:"ACE"===t.value&&e<=10?e+11:isNaN(t.value)?e+10:e+parseInt(t.value)}),0)})),J=function(e){var t=Object.assign({},e),n=Object(s.b)(),r=Object(a.useState)(0),c=Object(D.a)(r,2),d=c[0],i=c[1],l=Object(s.c)(M);return Object(A.jsxs)("div",{className:L.a.betWindow,children:[Object(A.jsxs)("h4",{children:["Player's wallet: $",l-d]}),Object(A.jsxs)("h5",{children:["Current Bet: $",d]}),Object(A.jsxs)("div",{className:L.a.betMenu,children:[Object(A.jsx)("button",{className:L.a.betButton,onClick:function(){d+50>l?alert("Not enought funds."):i(d+50)},children:"$50"}),Object(A.jsx)("button",{className:L.a.betButton,onClick:function(){d+100>l?alert("Not enought funds."):i(d+100)},children:"$100"}),Object(A.jsx)("button",{className:L.a.betButton,onClick:function(){d+250>l?alert("Not enought funds."):i(d+250)},children:"$250"}),Object(A.jsx)("button",{className:L.a.betButton,onClick:function(){d+500>l?alert("Not enought funds."):i(d+500)},children:"$500"}),Object(A.jsx)("button",{id:L.a.placeBet,className:L.a.betButton,onClick:function(){return d<=0?alert("Please place a bet."):l-d<0?alert("You don't have the money to place that bet."):(n(function(e){return function(t){t({type:C,payload:e})}}(d)),i(0),void n((e=t.deck,function(){var t=Object(o.a)(Object(u.a)().mark((function t(n){var a,r;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e,2);case 2:return a=t.sent,t.next=5,k(e,2);case 5:r=t.sent,n({type:j,payload:{playersCards:a.cards,dealersCards:r.cards,remaining:r.remaining}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())));var e},children:"Deal"}),Object(A.jsx)("button",{id:L.a.clearBet,className:L.a.betButton,onClick:function(){i(0)},children:"Clear Bet"})]})]})},K=J,V=n(19),z=n.n(V),q=function(e){var t=Object.assign({},e);return t.hideCard?Object(A.jsx)("div",{className:z.a.cardBack,children:Object(A.jsx)("img",{className:z.a.hideCard,src:t.card.image,alt:"playing card"},t.code)}):Object(A.jsx)("img",{src:t.card.image,alt:"playing card"},t.code)},Q=function(e){var t=Object.assign({},e),n=Object(s.b)();Object(a.useEffect)((function(){c(t.cards,t.total),r(t.total)}),[t.total,t.cards]);var r=function(e){e>21&&n(E)},c=function(e,t){if(2===e.length&&21===t)return n(B)};return Object(A.jsxs)("div",{children:[Object(A.jsx)("p",{children:t.total}),t.cards.map((function(e){return Object(A.jsx)(q,{card:e},e.code)}))]})},Z=n(29),ee=n.n(Z),te=function(e){var t=Object.assign({},e),n=Object(s.b)(),r=Object(a.useState)(!0),c=Object(D.a)(r,2),d=c[0],i=c[1];Object(a.useEffect)((function(){t.cards.length>2&&l(t.total),!0===t.playerStand&&(i(!1),b(t.total))}),[t.total,t.cards,t.playerStand]);var l=function(e){if(e>21)return n(w)},b=function(e){if(e>=17)return a=t.playerTotal,r=t.total,a===r?n(N):a>r?n(w):r>a&&r<=21?n(E):void 0;var a,r,c,s;n((c=t.deck,s=1,function(){var e=Object(o.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(c,s);case 2:n=e.sent,t({type:f,payload:{card:n.cards[0],remaining:n.remaining}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(A.jsxs)(A.Fragment,{children:[d?null:Object(A.jsx)("p",{children:t.total}),Object(A.jsx)("div",{className:ee.a.dealerHand,children:t.cards.map((function(e,t){return 1===t&&!0===d?Object(A.jsx)(q,{card:e,hideCard:d},e.code):Object(A.jsx)(q,{card:e},e.code)}))})]})},ne=te,ae=function(e){var t=Object.assign({},e),n=Object(s.b)(),a=Object(s.c)((function(e){return e.currentBet})),r=Object(s.c)((function(e){return e.playerCurrency}));return Object(A.jsx)(A.Fragment,{children:t.playersCards.length>2?null:Object(A.jsx)("button",{onClick:function(){var e;a>r?alert("Not enough funds for double down."):n((e=t.deckId,function(){var t=Object(o.a)(Object(u.a)().mark((function t(n){var a;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e,1);case 2:a=t.sent,n({type:m,payload:a.cards[0]});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"Double Down"})})},re=ae,ce=function(e){var t=Object.assign({},e),n=Object(s.b)();return Object(A.jsxs)("div",{children:[Object(A.jsx)("button",{onClick:function(){var e,a;n((e=t.deck,a=1,function(){var t=Object(o.a)(Object(u.a)().mark((function t(n){var r;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e,a);case 2:r=t.sent,n({type:l,payload:{card:r.cards[0],remaining:r.remaining}});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},children:"HIT"}),Object(A.jsx)("button",{onClick:function(){n(_)},children:"STAND"}),Object(A.jsx)(re,{deckId:t.deck,playersCards:t.playersCards})]})},se=ce,ue=function(e){var t=Object.assign({},e),n=Object(s.c)(U),a=Object(s.c)(X),r=Object(s.c)(F),c=Object(s.c)(G),u=Object(s.c)(Y);return Object(A.jsxs)("div",{children:[Object(A.jsxs)("p",{children:["Cards remaining: ",t.deck.remaining]}),Object(A.jsx)(ne,{deck:t.deck,total:c,cards:a,playerStand:u,playerTotal:r}),Object(A.jsx)(Q,{cards:n,total:r}),t.roundEnd?null:Object(A.jsx)(se,{roundEnd:t.roundEnd,playersCards:n,deck:t.deck})]})},oe=(n(58),function(){var e=Object(s.b)(),t=Object(s.c)(W),n=Object(s.c)(H),r=Object(s.c)($);return Object(a.useEffect)((function(){e((function(e){i.a.get("http://deckofcardsapi.com/api/deck/new/shuffle/?deck_count=1").then((function(t){e({type:b,payload:t.data})})).catch((function(e){console.error(e)}))}))}),[e]),Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("h3",{children:"Welcome to the S.F.M. Blackjack!"}),Object(A.jsx)(S,{roundResults:n}),r?Object(A.jsx)(K,{deck:t}):Object(A.jsx)(ue,{deck:t,roundEnd:n.roundEnd})]})}),de=n(16),ie=n(2),le={deck:{deck_id:"",remaining:0,shuffled:!1,success:!1},playersCards:[],dealersCards:[],playerCurrency:1e3,currentBet:0,playerStand:!1,bettingRound:!0,roundResults:{roundEnd:!1,message:""}},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(ie.a)(Object(ie.a)({},e),{},{deck:t.payload});case v:return Object(ie.a)(Object(ie.a)({},e),{},{playersCards:[],dealersCards:[],currentBet:0,playerStand:!1,bettingRound:t.payload,roundResults:{roundEnd:!1,message:""}});case C:return Object(ie.a)(Object(ie.a)({},e),{},{bettingRound:!1,playerCurrency:e.playerCurrency-t.payload,currentBet:t.payload});case j:return Object(ie.a)(Object(ie.a)({},e),{},{deck:Object(ie.a)(Object(ie.a)({},e.deck),{},{remaining:t.payload.remaining}),playersCards:t.payload.playersCards,dealersCards:t.payload.dealersCards});case l:return Object(ie.a)(Object(ie.a)({},e),{},{deck:Object(ie.a)(Object(ie.a)({},e.deck),{},{remaining:t.payload.remaining}),playersCards:[].concat(Object(I.a)(e.playersCards),[t.payload.card])});case m:return Object(ie.a)(Object(ie.a)({},e),{},{playersCards:[].concat(Object(I.a)(e.playersCards),[t.payload]),playerStand:!0,playerCurrency:e.playerCurrency-e.currentBet,currentBet:2*e.currentBet});case f:return Object(ie.a)(Object(ie.a)({},e),{},{deck:Object(ie.a)(Object(ie.a)({},e.deck),{},{remaining:t.payload.remaining}),dealersCards:[].concat(Object(I.a)(e.dealersCards),[t.payload.card])});case O:return Object(ie.a)(Object(ie.a)({},e),{},{roundResults:Object(ie.a)(Object(ie.a)({},e.roundResults),{},{roundEnd:t.payload,message:t.message+e.currentBet})});case p:return Object(ie.a)(Object(ie.a)({},e),{},{roundResults:Object(ie.a)(Object(ie.a)({},e.roundResults),{},{roundEnd:t.payload,message:t.message+1.5*e.currentBet}),playerCurrency:e.playerCurrency+(e.currentBet+1.5*e.currentBet)});case y:return Object(ie.a)(Object(ie.a)({},e),{},{playerStand:t.payload});case h:return Object(ie.a)(Object(ie.a)({},e),{},{roundResults:Object(ie.a)(Object(ie.a)({},e.roundResults),{},{roundEnd:t.payload,message:t.message+e.currentBet}),playerCurrency:e.playerCurrency+2*e.currentBet});case g:return Object(ie.a)(Object(ie.a)({},e),{},{roundResults:Object(ie.a)(Object(ie.a)({},e.roundResults),{},{roundEnd:t.payload,message:t.message}),playerCurrency:e.playerCurrency+e.currentBet});default:return e}},je=n(30),Oe=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):de.b)(Object(de.a)(je.a)),pe=Object(de.c)(be,Oe);c.a.render(Object(A.jsx)(s.a,{store:pe,children:Object(A.jsx)(oe,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.a97120b2.chunk.js.map